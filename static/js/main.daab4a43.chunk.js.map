{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","utils/dev-utils.js","utils/dom-utils.js","components/table/row.js","components/table/header.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","utils/structures-utils.js","../node_modules/@babel/runtime/helpers/esm/objectSpread.js","utils/state.js","components/table/table.js","utils/request-utils.js","utils/unit-utils.js","utils/coordinates-utils.js","columns.js","index.js"],"names":["_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","_iterableToArrayLimit","TypeError","_nonIterableRest","_objectWithoutProperties","source","excluded","key","target","sourceKeys","Object","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","_classCallCheck","instance","Constructor","createNode","_ref","_ref$tagName","tagName","className","onClick","width","text","href","node","document","createElement","onclick","style","isNaN","concat","innerText","Row","_this","this","columns","selection","data","handleRowClick","props","rowKey","edit","cellNodes","forEach","cellNode","extractedData","valueExtractor","presentation","link","linkUrl","linkNode","appendChild","map","column","Header","order","update","triangle","type","title","handleClick","_defineProperty","obj","defineProperty","enumerable","configurable","writable","mergeObjects","objects","reduce","acc","arguments","ownKeys","filter","sym","getOwnPropertyDescriptor","_objectSpread","buildState","dataObject","initialState","entries","_ref2","init","Proxy","set","state","field","callback","Table","url","updateInterval","updateSelection","rows","r","classList","remove","find","add","xhr","XMLHttpRequest","open","send","Promise","resolve","reject","onreadystatechange","readyState","status","jsonResponse","JSON","parse","responseText","buildGetRequest","then","full_count","version","dataState","rawData","catch","removeBody","childNodes","removeChild","lastChild","rerender","sortedData","rowData","sort","_ref3","_ref4","a","b","val1","val2","localeCompare","header","setInterval","degreesToRadians","degrees","Math","PI","DmeCoordinates","latitude","longitude","distanceToDme","point1","point2","latitude1","latitude2","longitude1","longitude2","cosAngle","sin","cos","acos","distanceBetween","coordinatePresentation","_degreesToMMSS","minutes","floor","seconds","degreesToMMSS","toFixed","src_columns","v","window","onload","body","getElementsByTagName","table"],"mappings":"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","file":"static/js/main.daab4a43.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export const devMode = () => process.env.NODE_ENV === 'development';\n","export const createNode = ({ tagName = 'div', className, onClick, width, text, href }) => {\r\n    const node = document.createElement(tagName);\r\n    className && (node.className = className);\r\n    onClick && (node.onclick = onClick);\r\n    width && (node.style.width = isNaN(width) ? width : `${width}px`);\r\n    text && (node.innerText = text);\r\n    if (href) {\r\n        node.href = href;\r\n        node.target = '_blank';\r\n    }\r\n    return node;\r\n};\r\n","import { createNode } from '../../utils/dom-utils';\r\n\r\nclass Row {\r\n    handleRowClick = () => {\r\n        this.props.selection.rowKey = this.props.selection.rowKey !== this.key ? this.key : null;\r\n    };\r\n\r\n    constructor({ columns, selection, key, data }) {\r\n        this.node = createNode({ className: 'table_row', onClick: this.handleRowClick });\r\n\r\n        this.props = { selection };\r\n        this.key = key;\r\n        this.data = data;\r\n\r\n        this.cellNodes = columns.map(column => {\r\n            const cellNode = createNode({ className: 'table_cell', width: column.width });\r\n\r\n            cellNode.presentation = column.presentation;\r\n            cellNode.valueExtractor = column.valueExtractor;\r\n            cellNode.link = column.link;\r\n            this.node.appendChild(cellNode);\r\n\r\n            return cellNode;\r\n        });\r\n        this.edit(key, data);\r\n    }\r\n\r\n    edit = (key, data) => {\r\n        this.data = data;\r\n        this.cellNodes.forEach(cellNode => {\r\n            const extractedData = cellNode.valueExtractor(data);\r\n            const text = cellNode.presentation ? cellNode.presentation(extractedData) : extractedData;\r\n            if (cellNode.link) {\r\n                const linkUrl = cellNode.link(extractedData);\r\n                const linkNode = createNode({ tagName: 'a', href: linkUrl, className: 'table_link', text });\r\n                cellNode.appendChild(linkNode);\r\n            } else {\r\n                cellNode.innerText = text;\r\n            }\r\n        });\r\n        this.key = key;\r\n    };\r\n}\r\n\r\nexport default Row;\r\n","import { createNode } from '../../utils/dom-utils';\r\n\r\nclass Header {\r\n    constructor({ columns, order }) {\r\n        this.props = { columns, order };\r\n        this.node = createNode({ className: 'header_row' });\r\n\r\n        this.cellNodes = columns.map((column, i) => {\r\n            const cellNode = createNode({\r\n                className: 'header_cell',\r\n                width: column.width,\r\n                onClick: () => this.handleClick(i)\r\n            });\r\n\r\n            this.node.appendChild(cellNode);\r\n\r\n            return cellNode;\r\n        });\r\n\r\n        this.update();\r\n    }\r\n\r\n    update = () => {\r\n        this.cellNodes.forEach((cellNode, i) => {\r\n            const triangle = this.props.order.type === 'asc' ? ' ▲' : ' ▼';\r\n            cellNode.innerText = this.props.columns[i].title + (this.props.order.column === i ? triangle : '');\r\n        });\r\n    };\r\n\r\n    handleClick = i => {\r\n        if (this.props.order.column === i) {\r\n            this.props.order.type = this.props.order.type === 'asc' ? 'desc' : 'asc';\r\n        } else {\r\n            this.props.order.column = i;\r\n            this.props.order.type = 'asc';\r\n        }\r\n        this.update();\r\n    };\r\n}\r\n\r\nexport default Header;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export const concatArrays = arrays => arrays.reduce((acc, arr) => [...acc, ...arr], []);\r\nexport const mergeObjects = objects => objects.reduce((acc, obj) => ({ ...acc, ...obj }), {});\r\n","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import { mergeObjects } from './structures-utils';\r\n\r\nexport const buildState = dataObject => {\r\n    const initialState = mergeObjects(Object.entries(dataObject).map(([field, { init }]) => ({ [field]: init })));\r\n\r\n    const set = (state, field, value) => {\r\n        state[field] = value;\r\n        dataObject[field].callback(value);\r\n        return true;\r\n    };\r\n\r\n    return new Proxy(initialState, { set });\r\n};\r\n","import { buildGetRequest } from '../../utils/request-utils';\r\nimport Row from './row';\r\nimport Header from './header';\r\nimport { createNode } from '../../utils/dom-utils';\r\nimport { buildState } from '../../utils/state';\r\n\r\nclass Table {\r\n    constructor({ columns, url, updateInterval }) {\r\n        this.props = { columns };\r\n        this.state = {\r\n            order: buildState({\r\n                column: { init: 10, callback: this.sort },\r\n                type: { init: 'asc', callback: this.sort }\r\n            }),\r\n            selection: buildState({\r\n                rowKey: { init: null, callback: this.updateSelection }\r\n            })\r\n        };\r\n\r\n        this.dataState = buildState({\r\n            rawData: { init: {}, callback: this.sort },\r\n            sortedData: { init: [], callback: this.rerender }\r\n        });\r\n\r\n        this.node = createNode({\r\n            className: 'table_wrapper'\r\n        });\r\n\r\n        this.header = new Header({ columns, order: this.state.order });\r\n        this.node.appendChild(this.header.node);\r\n\r\n        this.update(url);\r\n        setInterval(() => {\r\n            this.update(url);\r\n        }, updateInterval);\r\n    }\r\n\r\n    updateSelection = () => {\r\n        this.rows.forEach(r => r.node.classList.remove('highlighted'));\r\n        this.state.selection.rowKey &&\r\n            this.rows.find(r => r.key === this.state.selection.rowKey).node.classList.add('highlighted');\r\n    };\r\n\r\n    update = url => {\r\n        const request = buildGetRequest(url);\r\n        request\r\n            .then(({ full_count, version, ...data }) => {\r\n                this.dataState.rawData = data;\r\n            })\r\n            .catch(() => {});\r\n    };\r\n\r\n    removeBody = () => {\r\n        while (this.node.childNodes.length > 1) {\r\n            this.node.removeChild(this.node.lastChild);\r\n        }\r\n    };\r\n\r\n    rerender = () => {\r\n        this.removeBody();\r\n\r\n        this.rows = this.dataState.sortedData.map(\r\n            rowData =>\r\n                new Row({\r\n                    columns: this.props.columns,\r\n                    selection: this.state.selection,\r\n                    key: rowData.key,\r\n                    data: rowData.data\r\n                })\r\n        );\r\n\r\n        this.rows.forEach(r => this.node.appendChild(r.node));\r\n    };\r\n\r\n    sort = () => {\r\n        this.dataState.sortedData = Object.entries(this.dataState.rawData)\r\n            .map(([key, data]) => ({ key, data }))\r\n            .sort((a, b) => {\r\n                const val1 = this.props.columns[this.state.order.column].valueExtractor(a.data);\r\n                const val2 = this.props.columns[this.state.order.column].valueExtractor(b.data);\r\n\r\n                const type = this.state.order.type === 'asc' ? 1 : -1;\r\n\r\n                if (!isNaN(val1)) return type * (val1 - val2);\r\n                return type * val1.localeCompare(val2);\r\n            });\r\n        this.updateSelection();\r\n    };\r\n}\r\n\r\nexport default Table;\r\n","import { devMode } from './dev-utils';\r\nimport FAKE_RESPONSE from '../fake-response';\r\n\r\nexport const buildGetRequest = url => {\r\n    const xhr = new XMLHttpRequest();\r\n    xhr.open('GET', url);\r\n\r\n    xhr.send();\r\n\r\n    return new Promise(function(resolve, reject) {\r\n        xhr.onreadystatechange = () => {\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status === 200) {\r\n                    const jsonResponse = JSON.parse(xhr.responseText);\r\n                    resolve(jsonResponse);\r\n                } else {\r\n                    if (devMode()) {\r\n                        resolve(FAKE_RESPONSE);\r\n                    } else {\r\n                        reject();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    });\r\n};\r\n","export const degreesToMMSS = degrees => {\r\n    const fullDegrees = Math.floor(degrees);\r\n    const minutes = (degrees * 60) % 60;\r\n    const fullMinutes = Math.floor(minutes);\r\n    const seconds = (minutes * 60) % 60;\r\n\r\n    return { degrees: fullDegrees, minutes: fullMinutes, seconds };\r\n};\r\n\r\nexport const feetToMeters = feet => feet / 3.28084;\r\n\r\nexport const knotsToKph = knots => knots * 1.852;\r\n\r\nexport const degreesToRadians = degrees => (degrees / 180) * Math.PI;\r\n","import { degreesToRadians } from './unit-utils';\r\n\r\nconst distanceBetween = (point1, point2) => {\r\n    const latitude1 = degreesToRadians(point1.latitude);\r\n    const latitude2 = degreesToRadians(point2.latitude);\r\n    const longitude1 = degreesToRadians(point1.longitude);\r\n    const longitude2 = degreesToRadians(point2.longitude);\r\n\r\n    const cosAngle =\r\n        Math.sin(latitude1) * Math.sin(latitude2) +\r\n        Math.cos(latitude1) * Math.cos(latitude2) * Math.cos(longitude1 - longitude2);\r\n    const angle = Math.acos(cosAngle);\r\n\r\n    return angle * 6371;\r\n};\r\n\r\nconst DmeCoordinates = {\r\n    latitude: 55.410307,\r\n    longitude: 37.902451\r\n};\r\n\r\nexport const distanceToDme = (latitude, longitude) => distanceBetween({ latitude, longitude }, DmeCoordinates);\r\n","import { degreesToMMSS, feetToMeters, knotsToKph } from './utils/unit-utils';\r\nimport { distanceToDme } from './utils/coordinates-utils';\r\n\r\nconst coordinatePresentation = value => {\r\n    const { degrees, minutes, seconds } = degreesToMMSS(value);\r\n    return `${degrees}°${minutes}′${seconds.toFixed(2)}″`;\r\n};\r\n\r\nconst anglePresentation = degrees => `${degrees}°`;\r\n\r\nconst distancePresentation = v => `${v.toFixed(3)} км`;\r\n\r\nconst speedPresentation = v => `${v.toFixed(3)} км/ч`;\r\n\r\nconst heightPresentation = v => `${v.toFixed(0)} м`;\r\n\r\nexport default [\r\n    {\r\n        title: 'Id',\r\n        width: 80,\r\n        valueExtractor: data => data[0]\r\n    },\r\n    {\r\n        title: 'Авиакомпания',\r\n        width: 130,\r\n        valueExtractor: data => data[18]\r\n    },\r\n    {\r\n        title: 'Рейс',\r\n        width: 80,\r\n        link: v => `https://www.flightradar24.com/${v}`,\r\n        valueExtractor: data => data[16]\r\n    },\r\n    {\r\n        title: 'Откуда',\r\n        width: 80,\r\n        valueExtractor: data => data[11]\r\n    },\r\n    {\r\n        title: 'Куда',\r\n        width: 80,\r\n        valueExtractor: data => data[12]\r\n    },\r\n    {\r\n        title: 'Широта',\r\n        width: 120,\r\n        presentation: coordinatePresentation,\r\n        valueExtractor: data => data[1]\r\n    },\r\n    {\r\n        title: 'Долгота',\r\n        width: 120,\r\n        presentation: coordinatePresentation,\r\n        valueExtractor: data => data[2]\r\n    },\r\n    {\r\n        title: 'Курс',\r\n        width: 60,\r\n        presentation: anglePresentation,\r\n        valueExtractor: data => data[3]\r\n    },\r\n    {\r\n        title: 'Высота',\r\n        width: 90,\r\n        presentation: heightPresentation,\r\n        valueExtractor: data => feetToMeters(data[4])\r\n    },\r\n    {\r\n        title: 'Скорость',\r\n        width: 120,\r\n        presentation: speedPresentation,\r\n        valueExtractor: data => knotsToKph(data[5])\r\n    },\r\n    {\r\n        title: 'Расстояние до аэропорта',\r\n        width: 230,\r\n        presentation: distancePresentation,\r\n        valueExtractor: data => distanceToDme(data[1], data[2])\r\n    }\r\n];\r\n","import Table from './components/table/table';\r\nimport columns from './columns';\r\nimport './global.css';\r\nimport { devMode } from './utils/dev-utils';\r\n\r\nconst UPDATE_INTERVAL = devMode() ? 5000000 : 3000;\r\nconst URL = 'https://data-live.flightradar24.com/zones/fcgi/feed.js?bounds=56.84,55.27,33.48,41.48';\r\n\r\nwindow.onload = () => {\r\n    const body = document.getElementsByTagName('body')[0];\r\n    const table = new Table({ columns, url: URL, updateInterval: UPDATE_INTERVAL });\r\n    body.appendChild(table.node);\r\n};\r\n"],"sourceRoot":""}