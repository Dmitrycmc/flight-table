{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","utils/dev-utils.js","utils/dom-utils.js","components/table/row.js","components/table/header.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","utils/structures-utils.js","../node_modules/@babel/runtime/helpers/esm/objectSpread.js","utils/state.js","components/table/table.js","utils/request-utils.js","utils/unit-utils.js","utils/coordinates-utils.js","columns.js","index.js"],"names":["_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","_iterableToArrayLimit","TypeError","_nonIterableRest","_objectWithoutProperties","source","excluded","key","target","sourceKeys","Object","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","_classCallCheck","instance","Constructor","createNode","_ref","className","onClick","width","text","node","document","createElement","onclick","style","isNaN","concat","innerText","Row","_this","this","columns","order","selection","data","getSortKey","props","column","valueExtractor","handleRowClick","rowKey","edit","cellNodes","forEach","cellNode","extractedData","presentation","map","appendChild","Header","update","triangle","type","title","handleClick","_defineProperty","obj","defineProperty","enumerable","configurable","writable","mergeObjects","objects","reduce","acc","arguments","ownKeys","filter","sym","getOwnPropertyDescriptor","_objectSpread","buildState","dataObject","initialState","entries","_ref2","init","Proxy","set","state","field","callback","Table","url","updateInterval","updateSelection","rows","r","classList","remove","find","add","xhr","XMLHttpRequest","open","send","Promise","resolve","reject","onreadystatechange","readyState","status","jsonResponse","JSON","parse","responseText","buildGetRequest","then","full_count","version","dataState","rawData","catch","removeBody","childNodes","removeChild","lastChild","rerender","sortedData","rowData","sort","_ref3","_ref4","a","b","val1","val2","localeCompare","header","setInterval","degreesToRadians","degrees","Math","PI","DmeCoordinates","latitude","longitude","distanceToDme","point1","point2","latitude1","latitude2","longitude1","longitude2","cosAngle","sin","cos","acos","distanceBetween","coordinatePresentation","_degreesToMMSS","minutes","floor","seconds","degreesToMMSS","toFixed","src_columns","v","window","onload","body","getElementsByTagName","table"],"mappings":"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","file":"static/js/main.c2dd9765.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export const devMode = () => process.env.NODE_ENV === 'development';\n","export const createNode = ({ className, onClick, width, text }) => {\r\n    const node = document.createElement('div');\r\n    className && (node.className = className);\r\n    onClick && (node.onclick = onClick);\r\n    width && (node.style.width = isNaN(width) ? width : `${width}px`);\r\n    text && (node.innerText = text);\r\n    return node;\r\n};\r\n","import { createNode } from '../../utils/dom-utils';\r\n\r\nclass Row {\r\n    getSortKey = () => {\r\n        return this.props.columns[this.props.order.column].valueExtractor(this.data);\r\n    };\r\n\r\n    handleRowClick = () => {\r\n        this.props.selection.rowKey = this.props.selection.rowKey !== this.key ? this.key : null;\r\n    };\r\n\r\n    constructor({ columns, order, selection, key, data }) {\r\n        this.node = createNode({ className: 'table_row', onClick: this.handleRowClick });\r\n\r\n        this.props = { order, columns, selection };\r\n        this.key = key;\r\n        this.data = data;\r\n\r\n        this.cellNodes = columns.map(column => {\r\n            const cellNode = createNode({ className: 'table_cell', width: column.width });\r\n\r\n            cellNode.presentation = column.presentation;\r\n            cellNode.valueExtractor = column.valueExtractor;\r\n            this.node.appendChild(cellNode);\r\n\r\n            return cellNode;\r\n        });\r\n        this.edit(key, data);\r\n    }\r\n\r\n    edit = (key, data) => {\r\n        this.data = data;\r\n        this.cellNodes.forEach(cellNode => {\r\n            const extractedData = cellNode.valueExtractor(data);\r\n            cellNode.innerText = cellNode.presentation ? cellNode.presentation(extractedData) : extractedData;\r\n        });\r\n        this.key = key;\r\n    };\r\n}\r\n\r\nexport default Row;\r\n","import { createNode } from '../../utils/dom-utils';\r\n\r\nclass Header {\r\n    constructor({ columns, order }) {\r\n        this.props = { columns, order };\r\n        this.node = createNode({ className: 'header_row' });\r\n\r\n        this.cellNodes = columns.map((column, i) => {\r\n            const cellNode = createNode({\r\n                className: 'header_cell',\r\n                width: column.width,\r\n                onClick: () => this.handleClick(i)\r\n            });\r\n\r\n            this.node.appendChild(cellNode);\r\n\r\n            return cellNode;\r\n        });\r\n\r\n        this.update();\r\n    }\r\n\r\n    update = () => {\r\n        this.cellNodes.forEach((cellNode, i) => {\r\n            const triangle = this.props.order.type === 'asc' ? ' ▲' : ' ▼';\r\n            cellNode.innerText = this.props.columns[i].title + (this.props.order.column === i ? triangle : '');\r\n        });\r\n    };\r\n\r\n    handleClick = i => {\r\n        if (this.props.order.column === i) {\r\n            this.props.order.type = this.props.order.type === 'asc' ? 'desc' : 'asc';\r\n        } else {\r\n            this.props.order.column = i;\r\n            this.props.order.type = 'asc';\r\n        }\r\n        this.update();\r\n    };\r\n}\r\n\r\nexport default Header;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export const concatArrays = arrays => arrays.reduce((acc, arr) => [...acc, ...arr], []);\r\nexport const mergeObjects = objects => objects.reduce((acc, obj) => ({ ...acc, ...obj }), {});\r\n","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import { mergeObjects } from './structures-utils';\r\n\r\nexport const buildState = dataObject => {\r\n    const initialState = mergeObjects(Object.entries(dataObject).map(([field, { init }]) => ({ [field]: init })));\r\n\r\n    const set = (state, field, value) => {\r\n        state[field] = value;\r\n        dataObject[field].callback(value);\r\n        return true;\r\n    };\r\n\r\n    return new Proxy(initialState, { set });\r\n};\r\n","import { buildGetRequest } from '../../utils/request-utils';\r\nimport Row from './row';\r\nimport Header from './header';\r\nimport { createNode } from '../../utils/dom-utils';\r\nimport { buildState } from '../../utils/state';\r\n\r\nclass Table {\r\n    constructor({ columns, url, updateInterval }) {\r\n        this.props = { columns };\r\n        this.state = {\r\n            order: buildState({\r\n                column: { init: 10, callback: this.sort },\r\n                type: { init: 'asc', callback: this.sort }\r\n            }),\r\n            selection: buildState({\r\n                rowKey: { init: null, callback: this.updateSelection }\r\n            })\r\n        };\r\n\r\n        this.dataState = buildState({\r\n            rawData: { init: {}, callback: this.sort },\r\n            sortedData: { init: [], callback: this.rerender }\r\n        });\r\n\r\n        this.node = createNode({\r\n            className: 'table_wrapper'\r\n        });\r\n\r\n        this.header = new Header({ columns, order: this.state.order });\r\n        this.node.appendChild(this.header.node);\r\n\r\n        this.update(url);\r\n        setInterval(() => {\r\n            this.update(url);\r\n        }, updateInterval);\r\n    }\r\n\r\n    updateSelection = () => {\r\n        this.rows.forEach(r => r.node.classList.remove('highlighted'));\r\n        this.state.selection.rowKey &&\r\n            this.rows.find(r => r.key === this.state.selection.rowKey).node.classList.add('highlighted');\r\n    };\r\n\r\n    update = url => {\r\n        const request = buildGetRequest(url);\r\n        request\r\n            .then(({ full_count, version, ...data }) => {\r\n                this.dataState.rawData = data;\r\n            })\r\n            .catch(() => {});\r\n    };\r\n\r\n    removeBody = () => {\r\n        while (this.node.childNodes.length > 1) {\r\n            this.node.removeChild(this.node.lastChild);\r\n        }\r\n    };\r\n\r\n    rerender = () => {\r\n        this.removeBody();\r\n\r\n        this.rows = this.dataState.sortedData.map(\r\n            rowData =>\r\n                new Row({\r\n                    columns: this.props.columns,\r\n                    order: this.state.order,\r\n                    selection: this.state.selection,\r\n                    key: rowData.key,\r\n                    data: rowData.data\r\n                })\r\n        );\r\n\r\n        this.rows.forEach(r => this.node.appendChild(r.node));\r\n    };\r\n\r\n    sort = () => {\r\n        this.dataState.sortedData = Object.entries(this.dataState.rawData)\r\n            .map(([key, data]) => ({ key, data }))\r\n            .sort((a, b) => {\r\n                const val1 = this.props.columns[this.state.order.column].valueExtractor(a.data);\r\n                const val2 = this.props.columns[this.state.order.column].valueExtractor(b.data);\r\n\r\n                const type = this.state.order.type === 'asc' ? 1 : -1;\r\n\r\n                if (!isNaN(val1)) return type * (val1 - val2);\r\n                return type * val1.localeCompare(val2);\r\n            });\r\n        this.updateSelection();\r\n    };\r\n}\r\n\r\nexport default Table;\r\n","import { devMode } from './dev-utils';\r\nimport FAKE_RESPONSE from '../fake-response';\r\n\r\nexport const buildGetRequest = url => {\r\n    const xhr = new XMLHttpRequest();\r\n    xhr.open('GET', url);\r\n\r\n    xhr.send();\r\n\r\n    return new Promise(function(resolve, reject) {\r\n        xhr.onreadystatechange = () => {\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status === 200) {\r\n                    const jsonResponse = JSON.parse(xhr.responseText);\r\n                    resolve(jsonResponse);\r\n                } else {\r\n                    if (devMode()) {\r\n                        resolve(FAKE_RESPONSE);\r\n                    } else {\r\n                        reject();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    });\r\n};\r\n","export const degreesToMMSS = degrees => {\r\n    const fullDegrees = Math.floor(degrees);\r\n    const minutes = (degrees * 60) % 60;\r\n    const fullMinutes = Math.floor(minutes);\r\n    const seconds = (minutes * 60) % 60;\r\n\r\n    return { degrees: fullDegrees, minutes: fullMinutes, seconds };\r\n};\r\n\r\nexport const feetToMeters = feet => feet / 3.28084;\r\n\r\nexport const knotsToKph = knots => knots * 1.852;\r\n\r\nexport const degreesToRadians = degrees => (degrees / 180) * Math.PI;\r\n","import { degreesToRadians } from './unit-utils';\r\n\r\nconst distanceBetween = (point1, point2) => {\r\n    const latitude1 = degreesToRadians(point1.latitude);\r\n    const latitude2 = degreesToRadians(point2.latitude);\r\n    const longitude1 = degreesToRadians(point1.longitude);\r\n    const longitude2 = degreesToRadians(point2.longitude);\r\n\r\n    const cosAngle =\r\n        Math.sin(latitude1) * Math.sin(latitude2) +\r\n        Math.cos(latitude1) * Math.cos(latitude2) * Math.cos(longitude1 - longitude2);\r\n    const angle = Math.acos(cosAngle);\r\n\r\n    return angle * 6371;\r\n};\r\n\r\nconst DmeCoordinates = {\r\n    latitude: 55.410307,\r\n    longitude: 37.902451\r\n};\r\n\r\nexport const distanceToDme = (latitude, longitude) => distanceBetween({ latitude, longitude }, DmeCoordinates);\r\n","import { degreesToMMSS, feetToMeters, knotsToKph } from './utils/unit-utils';\r\nimport { distanceToDme } from './utils/coordinates-utils';\r\n\r\nconst coordinatePresentation = value => {\r\n    const { degrees, minutes, seconds } = degreesToMMSS(value);\r\n    return `${degrees}°${minutes}′${seconds.toFixed(2)}″`;\r\n};\r\n\r\nconst anglePresentation = degrees => `${degrees}°`;\r\n\r\nconst distancePresentation = v => `${v.toFixed(3)} км`;\r\n\r\nconst speedPresentation = v => `${v.toFixed(3)} км/ч`;\r\n\r\nconst heightPresentation = v => `${v.toFixed(0)} м`;\r\n\r\nexport default [\r\n    {\r\n        title: 'Id',\r\n        width: 80,\r\n        valueExtractor: data => data[0]\r\n    },\r\n    {\r\n        title: 'Авиакомпания',\r\n        width: 130,\r\n        valueExtractor: data => data[18]\r\n    },\r\n    {\r\n        title: 'Рейс',\r\n        width: 80,\r\n        valueExtractor: data => data[16]\r\n    },\r\n    {\r\n        title: 'Откуда',\r\n        width: 80,\r\n        valueExtractor: data => data[11]\r\n    },\r\n    {\r\n        title: 'Куда',\r\n        width: 80,\r\n        valueExtractor: data => data[12]\r\n    },\r\n    {\r\n        title: 'Широта',\r\n        width: 120,\r\n        presentation: coordinatePresentation,\r\n        valueExtractor: data => data[1]\r\n    },\r\n    {\r\n        title: 'Долгота',\r\n        width: 120,\r\n        presentation: coordinatePresentation,\r\n        valueExtractor: data => data[2]\r\n    },\r\n    {\r\n        title: 'Курс',\r\n        width: 60,\r\n        presentation: anglePresentation,\r\n        valueExtractor: data => data[3]\r\n    },\r\n    {\r\n        title: 'Высота',\r\n        width: 90,\r\n        presentation: heightPresentation,\r\n        valueExtractor: data => feetToMeters(data[4])\r\n    },\r\n    {\r\n        title: 'Скорость',\r\n        width: 120,\r\n        presentation: speedPresentation,\r\n        valueExtractor: data => knotsToKph(data[5])\r\n    },\r\n    {\r\n        title: 'Расстояние до аэропорта',\r\n        width: 230,\r\n        presentation: distancePresentation,\r\n        valueExtractor: data => distanceToDme(data[1], data[2])\r\n    }\r\n];\r\n","import Table from './components/table/table';\r\nimport columns from './columns';\r\nimport './global.css';\r\nimport { devMode } from './utils/dev-utils';\r\n\r\nconst UPDATE_INTERVAL = devMode() ? 5000000 : 3000;\r\nconst URL = 'https://data-live.flightradar24.com/zones/fcgi/feed.js?bounds=56.84,55.27,33.48,41.48';\r\n\r\nwindow.onload = () => {\r\n    const body = document.getElementsByTagName('body')[0];\r\n    const table = new Table({ columns, url: URL, updateInterval: UPDATE_INTERVAL });\r\n    body.appendChild(table.node);\r\n};\r\n"],"sourceRoot":""}